   GPSM   Geometry   Pitch   Shadow   Map   график   статья   программирование   игра   новость   статья   код   арт   дизайн   индустрия   подсказка   термин   FAQ   страница   сообщество   форум   качалка   участник   пользователь   темный   тема   публикация   проект   форум   работа   входить   программированиестатьиграфика   GPSM   Geometry   Pitch   Shadow   Map   автор   аврелий   GPSM   Geometry   Pitch   Shadow   Map   еще   один   метод   рендеринг   теневой   карта   давать   возможность   реализовать   тень   покрывать   огромный   территория   использовать   всего   один   текстура   в   который   происходить   рендеринг   render   target   метод   GPSM   давать   для   тень   вдали   от   камера   наблюдение   качество   плохой   а   вблизи   хорошо   этот   метод   я   изобретать   для   свой   движок   и   уже   использовать   в   два   проект   решать   поделиться   с   вы   надеяться   кто   то   пригождаться   вступление   теория   практика   вступление   привет   весь   обитатель   GameDev   ru   возможно   все   вы   известный   мучение   выбор   метод   рендеринг   тень   для   свой   проект   или   движок   такой   выбор   я   для   себя   когда   то   сделать   и   это   быть   PCF   Cascade   свет   конечно   же   для   OutDoor   т   е   directional   много   все   в   каскадный   тень   я   не   нравиться   что   необходимо   рендерять   сцена   несколько   раз   и   соблюдать   условие   что   геометрия   иногда   попадать   и   на   один   и   на   другой   теневой   карта   поставлять   перед   себя   задача   сделать   рендер   тень   в   один   текстура   чтобы   она   накрывать   более   или   менее   качественно   то   что   вблизи   и   то   что   вдали   менее   качественно   сразу   бросаться   в   глаз   еле   отрывать   PSM   LiPSM   XPSM   TSM   время   быть   мало   со   все   по   быстрый   ознакомляться   погонять   демка   и   понимать   что   даже   если   использовать   подобный   метод   то   приходиться   делать   с   ноль   чтобы   обходить   проблема   увидеть   в   этот   метод   убивать   три   день   на   настройка   свой   TSM   я   быть   у   цель   но   у   тот   подобие   что   я   реализовать   быть   несколько   минус   который   в   конец   путь   я   обвесить   костыль   который   не   спасать   ситуация   и   за   5   минута   начудить   GPSM   потестировать   давать   пафосный   название   и   взяться   за   написание   статья   возможно   находиться   человек   заинтересовываться   в   использование   и   развитие   метод   теория   быть   простой   чем   далеко   геометрия   тем   близко   она   надо   притягивать   к   центр   теневой   карта   делать   это   надо   в   шейдер   глубина   использовать   для   рендер   теневой   карта   а   также   в   шейдер   наложение   тень   для   то   чтобы   так   же   приближать   текстурный   координата   первый   что   приходить   в   голова   находить   дистанция   к   точка   и   по   мера   возростание   дистанция   приближать   к   центр   выглядить   это   быть   примерно   так   и   на   самый   дело   это   очень   плохой   идея   так   как   если   быть   более   или   менее   большой   плоскость   у   который   только   4   точка   она   никак   не   округлять   в   результат   тень   от   другой   предмет   на   такой   полигон   быть   искаженный   чтобы   убирать   округленность   приходить   к   вывод   что   надо   сокращать   X   и   Y   отдельно   и   в   некоторый   случай   оно   даже   прямоугольник   быть   обрабатывать   весьма   хорошо   при   такой   метод   теневой   карта   быть   примерно   такой   видно   что   картинка   даже   не   полностью   заполнять   и   там   влезать   бы   еще   много   далеко   без   такой   искажение   все   что   далеко   срезаться   бы   граница   текстура   здесь   примерно   линия   показывать   как   искажаться   геометрия   по   мера   отдаление   тень   от   она   такой   почти   PCF   16   выборка   для   гладкость   важно   чтобы   центр   теневой   карта   быть   в   точка   камера   и   вид   из   источник   должный   быть   ортогональный   практика   если   у   вы   реализовать   простой   карта   тень   shadow   maps   то   в   шейдер   глубина   вы   надо   быть   добавлять   2   строчка   OUT   position   mul   IN   position   matAll   matAll   матрица   ортогональный   вид   с   источник   OUT   depth   OUT   position   z   OUT   position   x   OUT   position   x   abs   OUT   position   x   1   0f   вот   и   строчка   единица   отвечать   за   степень   искажение   для   я   подходить   1   0f   вы   мочь   поискать   другой   подходящий   коэффициент   OUT   position   y   OUT   position   y   abs   OUT   position   y   1   0f   return   OUT   в   шейдер   наложение   тень   надо   сделать   то   же   самый   с   текстурный   координата   float4   posL   mul   mul   IN   position   matWorld   matLight   posL   x   posL   x   abs   posL   x   1   0f   место   1   0f   должный   быть   тот   же   коэффициент   что   и   в   шейдер   глубина   posL   y   posL   y   abs   posL   y   1   0f   OUT   SMCD   xyz   posL   xyw   SMCD   текстурный   координата   наложение   теневой   карта   на   сцена   OUT   SMCD   x   0   5f   OUT   SMCD   y   OUT   SMCD   y   0   5f   OUT   SMCD   w   posL   z   0   0007f   базис   вот   и   весь   чудо   искажение   геометрия   чтобы   избавляться   от   сильный   дрожание   тень   над   координата   камера   от   источник   свет   надо   пошаманить   camx   int   ViewPos   x   5   5   camy   int   ViewPos   y   5   5   camz   int   ViewPos   z   5   5   на   что   делить   и   умножать   надо   смотреть   относительно   масштаб   ваш   сцена   и   скорость   передвижение   камера   плюс   быстро   реализоваться   и   настраиваться   не   нужно   передавать   в   шейдер   дополнительный   матрица   нет   дрожание   тень   при   поворот   камера   дрожание   быть   в   все   PSM   TSM   нет   проблема   если   источник   повертывать   по   весь   ось   дальность   и   качество   оставаться   почти   неизменный   минус   метод   новый   и   пока   что   я   он   не   использовать   в   проект   и   возможно   не   знать   о   дополнительный   минус   интуиция   подсказывать   я   что   я   быть   теперь   использовать   только   этот   метод   тень   иногда   тень   может   шевелиться   и   некорректный   наползать   куда   не   стоить   немного   лечиться   увеличение   базис   но   в   некоторый   случай   все   же   непоправимый   для   повышение   качество   тень   вблизи   надо   увеличивать   сам   теневой   карта   но   лично   для   я   один   R32   1024   1024   достаточно   по   скорость   и   качество   очевидно   что   на   теневой   карта   рендериваться   и   то   что   мы   не   видеть   за   спина   например   но   это   как   раз   спасать   от   динамичный   изменение   качество   и   от   дрожание   тень   искажать   тень   на   полигон   с   большой   площадь   поскольку   он   быть   трансформироваться   по   разный   в   каждый   четверть   экран   но   учтивый   что   в   современный   игра   уже   редко   где   встречаться   большой   полигон   на   пол   экран   то   такой   искажение   фактически   не   быть   даже   если   такой   полигон   вы   крайне   нужный   то   можно   он   тесселизировать   и   он   тоже   переставать   быть   проблема   недавно   быть   обнаруживать   видео   Che   ter   спасибо   http   www   youtube   com   watch   v   Pc2jhlyOh _ U   и   пдф   к   он   http   www   cspaul   com   publications   Rosen   2012   I3D   pdf   видно   что   весь   минус   мой   метод   здесь   убирать   за   счет   тесселяция   Rendering   time   for   backward   analysis   RTW   using   a   tessellation   shader   for   triangle   subdivision   поэтому   проблема   с   большой   плоскость   нет   так   же   как   и   с   неточность   геометрия   если   быть   вопрос   всегда   отвечать   в   комментарий   GPSM   ShadowMap   тень   30   апрель   2012   комментарий   157   убирать   реклама   контакт   сообщество   участник   каталог   сайт   категория   архив   новость   GameDev   ru   разработка   игра   2001   2019